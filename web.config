<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <system.webServer>

    <!-- Documento por defecto -->
    <defaultDocument enabled="true">
      <files>
        <add value="index.html" />
      </files>
    </defaultDocument>

    <!-- Tipos MIME -->
    <staticContent>
      <!-- SQLite -->
      <remove fileExtension=".db" />
      <mimeMap fileExtension=".db" mimeType="application/vnd.sqlite3" />
      <!-- WASM ya está registrado globalmente en IIS, no repetir -->
    </staticContent>

    <!-- Cabeceras mínimas de seguridad -->
    <httpProtocol>
      <customHeaders>
        <add name="X-Content-Type-Options" value="nosniff" />
        <add name="X-Frame-Options" value="SAMEORIGIN" />
        <add name="Referrer-Policy" value="strict-origin-when-cross-origin" />
      </customHeaders>
    </httpProtocol>

    <!-- Cache: desactivar para .db -->
    <caching enabled="true" enableKernelCache="false">
      <profiles>
        <add extension=".db" policy="DisableCache" kernelCachePolicy="DisableCache" />
      </profiles>
    </caching>

    <!-- Seguridad: sin directory browsing -->
    <directoryBrowse enabled="false" />

  </system.webServer>
</configuration>
